# 어떤 라이브러리를 써야할까 

사이드 프로젝트를 개발하며 어떤 라이브러리를 써야할지 고민이 많다. 내가 원하는 기능을 제공하는 라이브러리가 너무나 다양하기 때문이다. 자바스크립트 런타임만 하더라도 Node.js를 포함해 Deno, Bun 등 다양하다. 회사에서 정해준 기술 스택이 있다면 그걸 쓰면 되지만 선택권이 나한테 있다면 과연 어떤 라이브러리를 쓰는 게 좋을까? 

라이브러리 선택 우선순위: 
1. 회사의 기술 스택
2. 프레임워크와 호환성
3. 기본에 충실한 라이브러리

간단하게 3개의 순서로 정리할 수 있다. 가장 높은 우선순위는 회사의 기술 스택이다. 회사가 정해놓은 기술 스택은 그 회사만의 경험을 통한 노하우가 있으므로 가장 안정적으로 개발할 수 있다. 다음으로, 프레임워크와 호환성이다. 자바 스프링의 기술을 자바스크립트 환경에서 쓸 수 없다. 이와 반대로 포맷 도구 중 Prettier와 Eslint처럼 호환이 좋은 라이브러리가 정해져 있다면 그걸 사용하면 된다. 

위 두가지 우선순위가 겹치는 라이브러리가 여러개라면, 마지막으로 기본에 충실한 라이브러리를 고르길 추천한다. 예를들어, Next.js와 호환되는 인증 라이브러리로 NextAuth.js가 있다. 그러나 이 라이브러리는 통합 솔루션처럼 너무나 많은 인증 방식을 다루다보니 문서의 부족함은 물론이고 가이드조차 제대로 되어있지 않다. 따라서 jsonwebtoken 라이브러리를 사용해 직접 인증 기능을 만들었다. 

또 다른 예로는 Kysely가 있다. Kysely 라이브러리는 쿼리 빌더로서 Drizzle, Prisma 같은 ORM 라이브러리와 차이가 있다. 많은 회사에서 ORM을 사용하는 상황 속에서 왜 쿼리 빌더를 선택했냐면, 쿼리 빌더가 단순하기 때문이다. 단순함은 예측 가능하기 때문에 오류 수정이 쉽다. 그리고 단순하기 때문에 내가 원하는 결과를 도출하기 쉽다. 
